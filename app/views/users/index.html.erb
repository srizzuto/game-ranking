<div class="container text-center">
  <h1 class="pt-5">Rank your games!</h1>

</div>


<div class="m-5">
  <div>
    <%= render "shared/flash" %>
    <%= render "new" %>
  </div>
  <div class="d-flex mt-5">
    <div class="p-5 w-100">
      <h2 class="mb-5"> Users </h2>
      <% if @users %>
        <% @users.each do |user| %>
          <div><%=link_to user.username, user_path(id: user.id) %></div>
        <% end %>
      <% end %>
    </div>
    <div class="p-5 w-100">
      <h2 class="mb-5"> Rankings </h2>
      <% @games1 = User.all.group(:game1).count %>
      <% @games2 = User.all.group(:game2).count %>
      <% @total_games = @games1.merge!(@games2) { |k, o, n| o + n }.sort_by { |k, v| v}.reverse %>
      <% @total_games.map do |k, v| %>
      <div><b><%= k %></b> : <%= v %></div>
      <% end %>
    </div>
  </div>
</div>